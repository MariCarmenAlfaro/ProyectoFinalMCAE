<div class="col-12">
<div class="col-12 my-3"><p-button label="A単adir caballo" (click)="this.createForm(null)"></p-button></div>

<div class="col-12" *ngIf="this.horses.length <= 0">
    <p-progressSpinner aria-label="Loading"></p-progressSpinner>
</div>
<div class="col-12" *ngIf="this.horses.length > 0">
    <p-table [value]="this.horses" [tableStyle]="{'min-width': '50rem'}" >
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th>Nombre </th>
                <th>Barrera</th>
                <th>Comida</th>
                <th>Tipo</th>
                <th>Due単o</th>
                <th>Camara</th>
                <th>Observaciones</th>
                <th>Registro</th>
                <th>Acciones</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-horse let-columns="columns">
            <tr>
                <td>{{horse.horseName}}</td>
                <td>{{horse.barnNum}}</td>
                <td>{{horse.foodType}}</td>
                <td>{{horse.horseType}}</td>
                <td>{{horse.ownerId}}</td>
                <td>{{horse.cameraUrl}}</td>
                <td>{{horse.observation}}</td>
                <td>{{horse.registrationDate}}</td>
                <td>
                    <p-button (click)="selectHorse(horse)" icon="pi pi-external-link" label="Edit"></p-button>

                    <p-button (click)="deleteHorseDialog(horse.horseId)" label="Delete"></p-button></td>
                    
               
            </tr>
        </ng-template>
    </p-table>
</div>

</div>
<p-sidebar [(visible)]="showDialog">
    <div class="col-12">
        <p *ngIf="this.createNewHorse === true">Guardar nuevo caballo</p>
        <p *ngIf="this.createNewHorse === false">Actualizar caballo</p>
        <div *ngIf="this.currentHorse">
            <form class="row g-3 f  romReserva" [formGroup]="form">
                <div class="modal-body">
                    <div class="form-floating mb-2">
                        <input type="text" class="form-control"  placeholder="Nombre"
                          formControlName="horseName" >
                        <label for="horseName">Nombre</label>
                      </div>
                  <div class="form-floating mb-2">
                    <input type="text" class="form-control"  placeholder="Barrera"
                      formControlName="barnNum" >
                    <label for="barnNum">Barrera</label>
                  </div>
                  <div class="form-floating mb-2">
                    <input type="text" class="form-control" placeholder="Camara"
                      formControlName="cameraUrl">
                    <label for="cameraUrl">Camara</label>
                  </div>
                  <div class="form-floating mb-2">
                    <input type="text" class="form-control"  placeholder="Comida"
                      formControlName="foodType" >
                    <label for="foodType">Comida</label>
                  </div>

                  <div class="form-floating mb-2">
                    <input type="text" class="form-control" placeholder="Observaciones"
                      formControlName="observation" >
                    <label for="observation">Observaciones</label>
                  </div>

                  <ng-container *ngIf="this.createNewHorse === false">
                    
                  
                
                   <div class="form-floating mb-2">
                    <input type="text" class="form-control" placeholder="Tipo"
                      formControlName="horseType">
                    <label for="horseType">Tipo</label>
                  </div> 
                  <div class="form-floating mb-2">
                    <input type="text" class="form-control" placeholder="Due単o"
                      formControlName="ownerId">
                    <label for="ownerId">Due単o</label>
                  </div>
                </ng-container>
                 <!-- <div class="form-floating mb-2">
                    <input type="text" class="form-control"  placeholder="Fecha registro"
                      formControlName="registrationDate" >
                    <label for="registrationDate">Fecha registro</label>
                  </div>
                  -->
                  <!--<div class="form-floating mb-2" >
                    <input type="text" class="form-control" placeholder="Id"
                      formControlName="horseId">
                    <label for="horseId">Id</label>
                  </div> -->
                  
                </div>
          
               
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary "
                    (click)="this.showDialog = false" 
                       >Cerrar</button>
                  <button type="submit" class="btn btn-primary guardarLogin"
               (click)="updateHorse()" 
                  >Guardar</button>
          
                </div>
              </form>
        </div>
    </div>
</p-sidebar>



<p-toast></p-toast>
<p-confirmDialog #cd [style]="{width:'50vw'}">
    <ng-template pTemplate="header">
        <h3>Header Content</h3>
    </ng-template>
    <ng-template pTemplate="footer">
        <button type="button" pButton icon="pi pi-times" label="No" (click)="cd.reject()"></button>
        <button type="button" pButton icon="pi pi-check" label="Yes" (click)="cd.accept()"></button>
    </ng-template>
</p-confirmDialog>
